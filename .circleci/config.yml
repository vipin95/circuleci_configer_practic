# Javascript Node CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-javascript/ for more details
#
version: 2
jobs:
  build:
  deploy:
    docker:
      # specify the version you desire here
      - image: circleci/node:8.11

    working_directory: ~/repo
    environment:
      HEROKU_APP: "testvipin95"
      HEROKU_API_KEY : "184250b9-c91d-4567-a33e-1c2e8f433491"
    steps:
      - checkout
      - run : npm install
      - run : git add .
      - run : git config --global user.email "mavi.mymail@gmail.com"
      - run : git config --global user.name "vipin mavi"
      - run : git pull https://heroku:184250b9-c91d-4567-a33e-1c2e8f433491@git.heroku.com/testvipin95.git master
      # - run : git commit -m "make it better"
      # - run : git remote rm heroku
      # - run : git remote add heroku https://git.heroku.com/testvipin95.git
      - run : git push https://heroku:184250b9-c91d-4567-a33e-1c2e8f433491@git.heroku.com/testvipin95.git master
